webpackJsonp([6],{"+p8g":function(i,n,t){var e=t("l5WR");"string"==typeof e&&(e=[[i.i,e,""]]),e.locals&&(i.exports=e.locals);t("rjj0")("a4f700b2",e,!0)},POe5:function(i,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=t("mvHQ"),o=t.n(e),r={name:"officeManager-distributionPoints",components:{},props:{curOfficeInfo:{type:Object,default:null},curOfficeChildren:{type:Array,default:[]},curOfficeParents:{type:Array,default:[]}},data:function(){return{curOfficeId:this.$route.query.officeId,isShowAllChildren:!1,containerHeight:document.documentElement.clientHeight-170,isOpenIntelligentPointAllocation:!1,isSubOpenIntelligentPointAllocation:!1,isOpenIPA:!1,confirmForm:{curOfficeInfo:null,curOfficeChildren:[],curOfficeParents:[]}}},computed:{higherDistributablePoints:function(){return 0!==this.confirmForm.curOfficeParents.length&&this.confirmForm.curOfficeParents[0].assignedPoints?this.confirmForm.curOfficeParents.reduce(function(i,n){return i+(n.totalPoints-n.assignedPoints)},0):0},curOfficeOpenIntelligentPointAllocationParent:function(){var i=this,n="";return this.isSubOpenIntelligentPointAllocation&&this.confirmForm.curOfficeParents.map(function(t){t.id===i.confirmForm.curOfficeInfo.openWisdomPid&&(n=t.label)}),n}},watch:{$route:function(i){this.curOfficeId=i.query.officeId},curOfficeInfo:function(i){console.log("切换分配点数的当前机构",i),this.confirmForm.curOfficeInfo=JSON.parse(o()(i)),this.isOpenIntelligentPointAllocation=this.confirmForm.curOfficeInfo&&this.confirmForm.curOfficeInfo.isWisdom,this.isSubOpenIntelligentPointAllocation=this.confirmForm.curOfficeInfo&&this.confirmForm.curOfficeInfo.openWisdomPid,this.isOpenIPA=this.isOpenIntelligentPointAllocation||this.isSubOpenIntelligentPointAllocation},curOfficeChildren:function(i){this.confirmForm.curOfficeChildren=JSON.parse(o()(i))},curOfficeParents:function(i){this.confirmForm.curOfficeParents=JSON.parse(o()(i)).reverse()}},created:function(){this.confirmForm={curOfficeInfo:JSON.parse(o()(this.curOfficeInfo)),curOfficeChildren:JSON.parse(o()(this.curOfficeChildren)),curOfficeParents:JSON.parse(o()(this.curOfficeParents)).reverse()},this.isOpenIntelligentPointAllocation=this.confirmForm.curOfficeInfo&&this.confirmForm.curOfficeInfo.isWisdom,this.isSubOpenIntelligentPointAllocation=this.confirmForm.curOfficeInfo&&this.confirmForm.curOfficeInfo.openWisdomPid,this.isOpenIPA=this.isOpenIntelligentPointAllocation||this.isSubOpenIntelligentPointAllocation,console.log("初始化..",this.confirmForm.curOfficeInfo)},mounted:function(){},methods:{}},c={render:function(){var i=this,n=i.$createElement,t=i._self._c||n;return t("div",{staticClass:"officeManager-distributionPoints-wrapper"},[t("div",{staticClass:"header"},[t("div",{staticClass:"btns"},[t("el-button",{attrs:{type:"primary"}},[i._v(i._s(i.$t("common.confirm")))]),i._v(" "),t("el-button",{attrs:{plain:""}},[i._v(i._s(i.$t("common.cancel")))])],1),i._v(" "),t("div",{staticClass:"higher"},[i.confirmForm.curOfficeParents.length>0?[t("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"click"}},[t("div",{staticClass:"popover-content"},[t("ul",{staticClass:"higher-list"},[i.isSubOpenIntelligentPointAllocation?[t("li",[i._v(i._s(i.curOfficeOpenIntelligentPointAllocationParent))])]:i._l(i.confirmForm.curOfficeParents,function(n,e){return t("li",{key:e},[i._v("\n                  "+i._s(n.label)+"\n                ")])})],2)]),i._v(" "),t("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[i._v(i._s(i.$t("officeManager.superior")))])],1),i._v(" "),i.isShowAllChildren?t("span",[i._v(i._s(i.$t("officeManager.totalDistributablePoints")))]):t("span",[i._v(i._s(i.$t("officeManager.distributablePoints")))]),i._v("\n          "+i._s(i.higherDistributablePoints)+"\n      ")]:i._e()],2)]),i._v(" "),t("div",{staticClass:"container",style:{height:i.containerHeight+"px"}},[i.isShowAllChildren?void 0:[i.confirmForm.curOfficeInfo?[t("el-card",{staticClass:"box-card cur-card",attrs:{shadow:"always"}},[t("div",{staticClass:"card-container"},[t("div",{staticClass:"name"},[i.confirmForm.curOfficeInfo&&i.confirmForm.curOfficeInfo.isWisdom?t("span",{attrs:{title:i.$t("officeManager.intelligentAllocationPointsMode")}},[t("svg-icon",{staticStyle:{cursor:"pointer"},attrs:{"icon-class":"eglass-tag"}})],1):i._e(),i._v("\n              "+i._s(i.confirmForm.curOfficeInfo.label)+"\n            ")]),i._v(" "),t("div",{staticClass:"info"},[t("div",{staticClass:"id"},[i._v(i._s(i.$t("officeManager.id"))+"   "+i._s(i.curOfficeId))]),i._v(" "),t("div",{staticClass:"points"},[i._v("\n                "+i._s(i.$t("officeManager.distributablePoints"))+" "+i._s((i.confirmForm.curOfficeInfo.totalPoints||0)-(i.confirmForm.curOfficeInfo.assignedPoints||0))+"  \n                "+i._s(i.$t("officeManager.assignedPoints"))+" "+i._s(i.confirmForm.curOfficeInfo.assignedPoints||0)+"  \n                "+i._s(i.$t("officeManager.deviceNumber"))+" "+i._s(i.confirmForm.curOfficeInfo.deviceNumber||0)+"  \n              ")])]),i._v(" "),t("div",{staticClass:"handle"},[t("div",[i.isSubOpenIntelligentPointAllocation?t("span",{staticStyle:{color:"#409EFF"}},[i._v("\n                  已开启智能分配点数模式\n                ")]):t("el-switch",{model:{value:i.isOpenIntelligentPointAllocation,callback:function(n){i.isOpenIntelligentPointAllocation=n},expression:"isOpenIntelligentPointAllocation"}})],1),i._v(" "),t("div",[i._v("\n                "+i._s(i.$t("officeManager.mechanismTotalPoints"))+"\n                "),t("el-input-number",{attrs:{size:"small"},model:{value:i.confirmForm.curOfficeInfo.totalPoints,callback:function(n){i.$set(i.confirmForm.curOfficeInfo,"totalPoints",n)},expression:"confirmForm.curOfficeInfo.totalPoints"}})],1)])])]),i._v(" "),t("div",{staticClass:"next-level"},[t("el-button",{attrs:{type:"info",disabled:0===i.confirmForm.curOfficeChildren.length},on:{click:function(n){i.isShowAllChildren=!0}}},[i._v(i._s(i.$t("officeManager.nextLevelMechanismPoints"))+"\n          ")])],1)]:[t("el-card",{staticClass:"box-card",staticStyle:{width:"60%",margin:"0 auto"},attrs:{shadow:"never"}},[t("div",{staticStyle:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center"}},[i._v("\n            "+i._s(i.$t("officeManager.pleaseSelectMechanism"))+"\n          ")])])]]],2)])},staticRenderFns:[]};var a=t("VU/8")(r,c,!1,function(i){t("+p8g")},"data-v-15c08bbd",null);n.default=a.exports},l5WR:function(i,n,t){(i.exports=t("FZ+f")(!1)).push([i.i,"\n.officeManager-distributionPoints-wrapper .header[data-v-15c08bbd] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n.officeManager-distributionPoints-wrapper .container[data-v-15c08bbd] {\n  width: 100%;\n  overflow: auto;\n}\n.officeManager-distributionPoints-wrapper .container[data-v-15c08bbd]::-webkit-scrollbar-track-piece {\n    background: #d3dce6;\n}\n.officeManager-distributionPoints-wrapper .container[data-v-15c08bbd]::-webkit-scrollbar {\n    width: 6px;\n}\n.officeManager-distributionPoints-wrapper .container[data-v-15c08bbd]::-webkit-scrollbar-thumb {\n    background: #99a9bf;\n    border-radius: 20px;\n}\n.officeManager-distributionPoints-wrapper .box-card[data-v-15c08bbd] {\n  height: 178px;\n  margin-bottom: 20px;\n  position: relative;\n  overflow: inherit;\n}\n.officeManager-distributionPoints-wrapper .box-card .text[data-v-15c08bbd] {\n    font-size: 14px;\n}\n.officeManager-distributionPoints-wrapper .box-card .item[data-v-15c08bbd] {\n    padding: 18px 0;\n}\n.officeManager-distributionPoints-wrapper .cur-card[data-v-15c08bbd] {\n  width: 60%;\n  height: 230px;\n  margin: 0 auto;\n}\n.officeManager-distributionPoints-wrapper .cur-card .card-container[data-v-15c08bbd] {\n    white-space: nowrap;\n}\n.officeManager-distributionPoints-wrapper .cur-card .name[data-v-15c08bbd] {\n    padding: 5px 0 20px 15px;\n    font-size: 20px;\n    font-weight: bold;\n    border-bottom: 1px solid #DCDFE6;\n    color: #303133;\n}\n.officeManager-distributionPoints-wrapper .cur-card .info[data-v-15c08bbd] {\n    padding: 20px 0;\n    font-size: 18px;\n    border-bottom: 1px solid #DCDFE6;\n    color: #606266;\n}\n.officeManager-distributionPoints-wrapper .cur-card .info .id[data-v-15c08bbd] {\n      margin-bottom: 20px;\n}\n.officeManager-distributionPoints-wrapper .cur-card .handle[data-v-15c08bbd] {\n    width: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding-top: 8px;\n}\n",""])},mvHQ:function(i,n,t){i.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(i,n,t){var e=t("FeBl"),o=e.JSON||(e.JSON={stringify:JSON.stringify});i.exports=function(i){return o.stringify.apply(o,arguments)}}});