webpackJsonp([9],{"+msd":function(e,t,r){var o=r("unik");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("27f45a55",o,!0)},JAFk:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"",""])},Q7DT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("//Fk"),a=r.n(o),n=r("aCoG"),s={name:"accountManager-createAccount",components:{},props:{curAccountInfo:{type:Object,default:null}},data:function(){var e=this,t=function(t,r,o){r.trim()?(e.showErrMsg.name="",o()):(e.showErrMsg.name=e.$t("accountManager.nameLengthTips"),o(new Error(" ")))},r=function(t,r,o){r.trim()?r.trim().length<6?(e.showErrMsg.password=e.$t("accountManager.passwordLengthTips"),o(new Error(" "))):(e.showErrMsg.password="",o()):(e.showErrMsg.password=e.$t("accountManager.passwordLengthTips"),o(new Error(" ")))},o=function(t,r,o){r&&r.trim().length>48?(e.showErrMsg.mark=e.$t("accountManager.markLengthTips"),o(new Error(" "))):(e.showErrMsg.mark="",o())};return{accountForm:{username:"",name:"",password:"888888",mark:"",role:"root",officeId:1},rules:{username:[{trigger:"blur",validator:function(t,r,o){r=r.replace(/[^0-9a-zA-Z\s]/g,""),e.accountForm.username=r,r.trim()&&r.trim().length>=6&&r.trim().length<=12?(e.showErrMsg.username="",e.queryUsernameIsExist().then(function(){e.showErrMsg.username="",o()}).catch(function(){e.showErrMsg.username=e.$t("accountManager.usernameExistsTips"),o(new Error(" "))})):(e.showErrMsg.username=e.$t("accountManager.accountLengthTips"),o(new Error(" ")))}}],name:[{trigger:"change",validator:t},{trigger:"blur",validator:t}],password:[{trigger:"change",validator:r},{trigger:"blur",validator:r}],mark:[{trigger:"change",validator:o},{trigger:"blur",validator:o}]},filterText:"",treeData:Object(n.e)(),defaultProps:{children:"children",label:"label"},showErrMsg:{username:"",name:"",password:"",mark:""},isTriggerBeforeRouteLeave:!0}},computed:{},watch:{filterText:function(e){this.$refs.officeTree.filter(e)}},mounted:function(){},methods:{submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(e){this.$refs[e].resetFields()},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},clickOfficeHandle:function(e,t,r){},checkOfficeHandle:function(e,t){this.$refs.officeTree.getCheckedKeys().indexOf(e.id)>-1?(this.$refs.officeTree.setCheckedKeys([e.id]),this.$refs.officeTree.setCurrentKey(e.id),this.accountForm.officeId=e.id):(this.$refs.officeTree.setCheckedKeys([]),this.accountForm.officeId=-1),console.log("选中的机构id",this.accountForm.officeId)},cancelHandle:function(){var e=this;this.$confirm(this.$t("accountManager.leavePagePrompt"),this.$t("common.notice"),{confirmButtonText:this.$t("common.cancelBtn"),cancelButtonText:this.$t("common.confirmBtn"),type:"warning",closeOnClickModal:!1,closeOnPressEscape:!1,showClose:!1}).then(function(){}).catch(function(){e.isTriggerBeforeRouteLeave=!1,e.$router.push({path:"/system/accountManager"})})},queryUsernameIsExist:function(){var e=this;return new a.a(function(t,r){setTimeout(function(){console.log(e.accountForm.username),Math.random()>.49?t():r()},1e3)})}},beforeRouteLeave:function(e,t,r){this.isTriggerBeforeRouteLeave?this.$confirm(this.$t("accountManager.leavePagePrompt"),this.$t("common.notice"),{confirmButtonText:this.$t("common.cancelBtn"),cancelButtonText:this.$t("common.confirmBtn"),type:"warning",closeOnClickModal:!1,closeOnPressEscape:!1,showClose:!1}).then(function(){}).catch(function(){r()}):r()}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"accountManager-createAccount-wrapper"},[r("el-form",{ref:"accountForm",attrs:{model:e.accountForm,rules:e.rules,"label-width":"110px","inline-message":"","label-position":"left"}},[r("el-form-item",{attrs:{label:e.$t("common.username")+" *",prop:"username"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{maxlength:12,autofocus:""},model:{value:e.accountForm.username,callback:function(t){e.$set(e.accountForm,"username",t)},expression:"accountForm.username"}}),e._v(" "),r("el-alert",{directives:[{name:"show",rawName:"v-show",value:!!e.showErrMsg.username,expression:"!!showErrMsg.username"}],staticStyle:{position:"absolute",top:"0",left:"400px",padding:"0 16px","margin-left":"16px",width:"auto","white-space":"nowrap",border:"1px solid #FEDDCC"},attrs:{title:e.showErrMsg.username,type:"error","show-icon":"",closable:!1}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("common.name")+" *",prop:"name"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{maxlength:24},model:{value:e.accountForm.name,callback:function(t){e.$set(e.accountForm,"name",t)},expression:"accountForm.name"}}),e._v(" "),r("el-alert",{directives:[{name:"show",rawName:"v-show",value:!!e.showErrMsg.name,expression:"!!showErrMsg.name"}],staticStyle:{position:"absolute",top:"0",left:"400px",padding:"0 16px","margin-left":"16px",width:"auto","white-space":"nowrap",border:"1px solid #FEDDCC"},attrs:{title:e.showErrMsg.name,type:"error","show-icon":"",closable:!1}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("common.password")+" *",prop:"password"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{maxlength:12},model:{value:e.accountForm.password,callback:function(t){e.$set(e.accountForm,"password",t)},expression:"accountForm.password"}}),e._v(" "),r("el-alert",{directives:[{name:"show",rawName:"v-show",value:!!e.showErrMsg.password,expression:"!!showErrMsg.password"}],staticStyle:{position:"absolute",top:"0",left:"400px",padding:"0 16px","margin-left":"16px",width:"auto","white-space":"nowrap",border:"1px solid #FEDDCC"},attrs:{title:e.showErrMsg.password,type:"error","show-icon":"",closable:!1}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("accountManager.mark"),prop:"mark"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",maxlength:48,autosize:{minRows:5}},model:{value:e.accountForm.mark,callback:function(t){e.$set(e.accountForm,"mark",t)},expression:"accountForm.mark"}}),e._v(" "),r("el-alert",{directives:[{name:"show",rawName:"v-show",value:!!e.showErrMsg.mark,expression:"!!showErrMsg.mark"}],staticStyle:{position:"absolute",bottom:"0",left:"400px",padding:"0 16px","margin-left":"16px",width:"auto","white-space":"nowrap",border:"1px solid #FEDDCC"},attrs:{title:e.showErrMsg.mark,type:"error","show-icon":"",closable:!1}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("accountManager.accountRole")+" *",prop:"role"}},[r("el-radio-group",{model:{value:e.accountForm.role,callback:function(t){e.$set(e.accountForm,"role",t)},expression:"accountForm.role"}},[r("el-radio",{attrs:{label:"root"}},[e._v(e._s(e.$t("common.rootRole")))]),e._v(" "),r("el-radio",{attrs:{label:"user"}},[e._v(e._s(e.$t("common.userRole")))])],1),e._v(" "),r("el-popover",{attrs:{placement:"bottom-start",title:"",width:"200",trigger:"hover",content:e.$t("accountManager.generalAdministratorPermissionStatement")}},[r("i",{staticClass:"el-icon-info",staticStyle:{color:"#909399",cursor:"pointer","margin-left":"10px"},attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("accountManager.allocationOrganization")+" *",prop:"officeId"}},[r("el-input",{staticStyle:{width:"400px","margin-bottom":"5px"},attrs:{placeholder:e.$t("common.searchOrganizationName"),"suffix-icon":"el-icon-search",clearable:"",closable:!1},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),r("el-tree",{ref:"officeTree",staticClass:"filter-tree",staticStyle:{width:"400px","min-height":"400px"},attrs:{data:e.treeData,props:e.defaultProps,"default-expanded-keys":[1],"default-checked-keys":[1],"filter-node-method":e.filterNode,"show-checkbox":"","highlight-current":"","node-key":"id","check-on-click-node":"","expand-on-click-node":!1,"check-strictly":""},on:{"node-click":e.clickOfficeHandle,check:e.checkOfficeHandle}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",disabled:!e.accountForm.username||e.showErrMsg.username.length>6||!e.accountForm.name||!e.accountForm.password||e.accountForm.password.length<6||!e.accountForm.role||0!==e.accountForm.officeId&&!e.accountForm.officeId||-1===e.accountForm.officeId},on:{click:function(t){e.submitForm("accountForm")}}},[e._v(e._s(e.$t("common.confirmBtn"))+"\n      ")]),e._v(" "),r("el-button",{on:{click:e.cancelHandle}},[e._v(e._s(e.$t("common.cancelBtn")))])],1)],1)],1)},staticRenderFns:[]};var i=r("VU/8")(s,c,!1,function(e){r("+msd"),r("Tdlp")},"data-v-1fe15026",null);t.default=i.exports},Tdlp:function(e,t,r){var o=r("JAFk");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("30294c31",o,!0)},unik:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"/* reset element-ui css */\n",""])}});