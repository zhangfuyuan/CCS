webpackJsonp([4],{"1zIB":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("NYxO"),i=o("//Fk"),l=o.n(i),r=o("Dd8w"),a={name:"web-upload",props:{accept:{type:String,default:""},url:{type:String,default:""},fileNumLimit:{type:Number,default:100},fileSingleSizeLimit:{type:Number,default:2097152},formData:{type:Object,default:null},keyGenerator:{type:Function,default:function(e){return(new Date).getTime()+"."+e.name}},multiple:{type:Boolean,default:!1},uploadButton:{type:String,default:""},dndEle:{type:String,default:""},isDisableGlobalDnd:{type:Boolean,default:!0}},data:function(){return{uploader:null}},computed:o.n(r)()({},Object(n.b)(["public_path","process_env"])),mounted:function(){console.log(8126,this.process_env),console.log(this.public_path+"/static/lib/webuploader/Uploader.swf");var e=this;WebUploader.Uploader.register({"before-send-file":"beforeSendFile"},{beforeSendFile:function(t){var o=WebUploader.Deferred();return e.uploader.md5File(t).then(function(e){return console.log(t.name+" md5："+e),setTimeout(function(){console.log("请求后台进行文件md5校验结果..."),o.resolve()},1e3),o.promise()}),o.promise()}}),this.uploader&&this.destroy(),this.initWebUpload()},methods:{initWebUpload:function(){var e=this;this.uploader=WebUploader.create({dnd:this.dndEle,disableGlobalDnd:this.isDisableGlobalDnd,auto:!0,swf:this.public_path+"/static/lib/webuploader/Uploader.swf",server:this.url,pick:{id:this.uploadButton,multiple:this.multiple,label:""},prepareNextFile:!0,accept:this.getAccept(this.accept),threads:3,fileNumLimit:this.fileNumLimit,fileSingleSizeLimit:this.fileSingleSizeLimit,formData:this.formData,chunked:!0,chunkSize:2097152,duplicate:!0}),this.uploader.on("dndAccept",function(t){e.$emit("dndAccept",t)}),this.uploader.on("beforeFileQueued",function(t){e.$emit("beforeFileQueued",t)}),this.uploader.on("fileQueued",function(t){e.$emit("fileQueued",t)}),this.uploader.on("filesQueued",function(t){e.$emit("filesQueued",t)}),this.uploader.on("fileDequeued",function(t){e.$emit("fileDequeued",t)}),this.uploader.on("reset",function(){e.$emit("reset")}),this.uploader.on("startUpload",function(){e.$emit("startUpload")}),this.uploader.on("stopUpload",function(){e.$emit("stopUpload")}),this.uploader.on("uploadFinished",function(){e.$emit("uploadFinished")}),this.uploader.on("uploadStart",function(t){e.$emit("uploadStart",t)}),this.uploader.on("uploadBeforeSend",function(t,o,n){e.$emit("uploadBeforeSend",t,o,n)}),this.uploader.on("uploadAccept",function(t,o){e.$emit("uploadAccept",t,o)}),this.uploader.on("uploadProgress",function(t,o){e.$emit("uploadProgress",t,o)}),this.uploader.on("uploadSuccess",function(t,o){e.$emit("uploadSuccess",t,o)}),this.uploader.on("uploadError",function(t,o){console.error(o),e.$emit("uploadError",t,o)}),this.uploader.on("uploadComplete",function(t){e.$emit("uploadComplete",t)}),this.uploader.on("error",function(t){var o="";o="F_EXCEED_SIZE"===t?"文件大小不能超过"+e.fileSingleSizeLimit/1048576+"M":"Q_EXCEED_NUM_LIMIT"===t?"文件上传已达到最大上限数":"Q_TYPE_DENIED"===t?"文件类型不符合要求":"上传出错！请检查后重新上传！错误代码"+t,console.error(o),e.$emit("error",o)})},getOption:function(e){return this.uploader.option(e)},setOption:function(e,t){this.uploader.option(e,t)},upload:function(e){this.uploader.upload(e)},stop:function(e){this.uploader.stop(e)},cancelFile:function(e){this.uploader.cancelFile(e)},removeFile:function(e,t){this.uploader.removeFile(e,t)},getAccept:function(e){switch(e){case"doc":return{title:"DOCs",exteensions:"doc,docx",mimeTypes:".doc,.docx"};case"xls":return{title:"XLXs",exteensions:"xls,xlsx",mimeTypes:".xls,.xlsx"};case"ppt":return{title:"PPTs",exteensions:"ppt,pptx",mimeTypes:".ppt,.pptx"};case"pdf":return{title:"PDFs",exteensions:"pdf",mimeTypes:".pdf"};case"txt":return{title:"TXTs",exteensions:"txt",mimeTypes:".txt"};case"video":return{title:"Videos",exteensions:"mp4",mimeTypes:".mp4"};case"image":return{title:"Images",exteensions:"gif,jpg,jpeg,bmp,png",mimeTypes:".gif,.jpg,.jpeg,.bmp,.png"};default:return e}},makeThumb:function(e){var t=this;return new l.a(function(o,n){t.uploader.makeThumb(e,function(e,t){e?n(e):o(t)})})},retry:function(e){e?this.uploader.retry(e):this.uploader.retry()},destroy:function(){this.uploader.destroy(),this.uploader=null}}},s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"upload"})},staticRenderFns:[]};var u={name:"wordSettings",components:{Webuploader:o("VU/8")(a,s,!1,function(e){o("OORa")},null,null).exports},data:function(){return{tableData:[{id:"3",language:"--"},{id:"4",language:"--"},{id:"1",language:"中文"},{id:"2",language:"English"}],dialogUploadVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px",uploadList:[],uploadPercentageMap:{aa:50}}},computed:{},watch:{},mounted:function(){},methods:{handleEdit:function(e,t){this.dialogUploadVisible=!0},handleDelete:function(e,t){alert(e+t+"施工中...")},webuploader_beforeFileQueued:function(e){console.log("beforeFileQueued",e)},webuploader_fileQueued:function(e){console.log("fileQueued",e),this.uploadList.findIndex(function(t){return t.name===e.name})>-1?(console.log("文件名重复！"),this.$refs.webuploader.removeFile(e,!0)):this.uploadList.push({name:e.name,percentage:0,status:""})},webuploader_fileDequeued:function(e){console.log("fileDequeued",e)},webuploader_uploadFinished:function(){console.log("uploadFinished")},webuploader_uploadStart:function(e){console.log("uploadStart",e)},webuploader_uploadBeforeSend:function(e,t,o){console.log("uploadBeforeSend",e,t,o)},webuploader_uploadProgress:function(e,t){var o=this;console.log("uploadProgress",e,t);var n=this.uploadList.findIndex(function(t){return t.name===e.name});this.uploadList[n].percentage=50,setTimeout(function(){o.uploadList[n].percentage=100,o.uploadList[n].status="success"},1e3)},webuploader_uploadSuccess:function(e,t){console.log("uploadSuccess",e,t)},webuploader_uploadError:function(e,t){var o=this;console.log("uploadError",e,t);var n=this.uploadList.findIndex(function(t){return t.name===e.name});setTimeout(function(){o.uploadList[n].percentage=95,o.uploadList[n].status="exception"},5e3)},webuploader_uploadComplete:function(e){console.log("uploadComplete",e)},webuploader_error:function(e){console.log("uploadComplete",e)}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wordSettings-wrapper"},[o("div",{staticClass:"btns"},[o("el-row",{staticStyle:{"margin-bottom":"20px"}},[o("el-button",[e._v(e._s(e.$t("wordSettings.exportWord")))]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogUploadVisible=!0,e.uploadList=[]}}},[e._v(e._s(e.$t("wordSettings.uploadWord")))])],1)],1),e._v(" "),o("div",{staticClass:"table"},[o("el-table",{staticStyle:{width:"50%"},attrs:{stripe:"",border:"",fit:"","highlight-current-row":"",data:e.tableData,"default-sort":{prop:"id"}}},[o("el-table-column",{attrs:{prop:"id",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"language",label:e.$t("wordSettings.language")}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("wordSettings.handle")},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(o){e.handleEdit(t.$index,t.row)}}},[e._v(e._s(e.$t("wordSettings.modify")))]),e._v(" "),o("el-button",{staticStyle:{color:"#F56C6C"},attrs:{size:"mini",type:"text"},on:{click:function(o){e.handleDelete(t.$index,t.row)}}},[e._v(e._s(e.$t("wordSettings.del")))])]}}])})],1)],1),e._v(" "),o("div",{staticClass:"dialog"},[o("el-dialog",{attrs:{title:"上传词条文件",visible:e.dialogUploadVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogUploadVisible=t}}},[o("div",{staticClass:"upload-box"},[o("div",{staticClass:"upload-wrapper"},[o("div",{staticClass:"el-upload el-upload--text",attrs:{tabindex:"0"}},[o("div",{staticClass:"el-upload-dragger",attrs:{id:"uploadArea"}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),o("em",[e._v("点击上传")])])]),e._v(" "),o("webuploader",{ref:"webuploader",attrs:{accept:"xls",url:"http://localhost:3000/webuploader",uploadButton:"#uploadArea",dndEle:"#uploadArea"},on:{beforeFileQueued:e.webuploader_beforeFileQueued,fileQueued:e.webuploader_fileQueued,fileDequeued:e.webuploader_fileDequeued,uploadFinished:e.webuploader_uploadFinished,uploadStart:e.webuploader_uploadStart,uploadBeforeSend:e.webuploader_uploadBeforeSend,uploadProgress:e.webuploader_uploadProgress,uploadSuccess:e.webuploader_uploadSuccess,uploadError:e.webuploader_uploadError,uploadComplete:e.webuploader_uploadComplete,error:e.webuploader_error}})],1),e._v(" "),o("div",{staticClass:"el-upload__tip"},[e._v("只能上传jpg/png文件，且不超过500kb")]),e._v(" "),o("ul",{staticClass:"el-upload-list el-upload-list--text"},e._l(e.uploadList,function(t,n){return o("li",{key:n,class:["el-upload-list__item",{"is-success":100===e.uploadPercentageMap[t.name]}]},[o("a",{staticClass:"el-upload-list__item-name"},[o("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+"\n              ")]),e._v(" "),o("i",{staticClass:"el-icon-close"}),e._v(" "),o("el-progress",{attrs:{percentage:t.percentage,status:t.status}})],1)}))])]),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogUploadVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogUploadVisible=!1}}},[e._v("确 定")])],1)])],1)])},staticRenderFns:[]};var d=o("VU/8")(u,p,!1,function(e){o("GaHs"),o("VxsI")},"data-v-6a3a6f9a",null);t.default=d.exports},GaHs:function(e,t,o){var n=o("XxvS");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("rjj0")("24d11f0d",n,!0)},JLFt:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.wordSettings-wrapper .upload-box[data-v-6a3a6f9a] {\n  padding: 24px;\n}\n.wordSettings-wrapper .upload-box .upload-wrapper[data-v-6a3a6f9a] {\n    width: 360px;\n    /*.el-upload {\r\n        display: inline-block;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        outline: none;\r\n      }\r\n\r\n      .el-upload-dragger {\r\n        background-color: #fff;\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        box-sizing: border-box;\r\n        width: 360px;\r\n        height: 180px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n        .el-icon-upload {\r\n          font-size: 67px;\r\n          color: #c0c4cc;\r\n          margin: 40px 0 16px;\r\n          line-height: 50px;\r\n        }\r\n\r\n        .el-upload__text {\r\n          color: #606266;\r\n          font-size: 14px;\r\n          text-align: center;\r\n          em {\r\n            color: #409eff;\r\n            font-style: normal;\r\n          }\r\n        }\r\n      }\r\n\r\n      .el-upload__tip {\r\n        font-size: 12px;\r\n        color: #606266;\r\n        margin-top: 7px;\r\n      }\r\n\r\n      .el-upload-list {\r\n        margin: 0;\r\n        padding: 0;\r\n        list-style: none;\r\n      }\r\n\r\n      .el-upload-list__item {\r\n        transition: all .5s cubic-bezier(.55,0,.1,1);\r\n        font-size: 14px;\r\n        color: #606266;\r\n        line-height: 1.8;\r\n        margin-top: 5px;\r\n        position: relative;\r\n        box-sizing: border-box;\r\n        border-radius: 4px;\r\n        width: 100%;\r\n        &:first-child {\r\n          margin-top: 10px;\r\n        }\r\n\r\n        .el-icon-close {\r\n          position: absolute;\r\n          top: 5px;\r\n          right: 5px;\r\n          cursor: pointer;\r\n          opacity: .75;\r\n          color: #606266;\r\n        }\r\n\r\n        .el-icon-close-tip {\r\n          position: absolute;\r\n          top: 5px;\r\n          right: 5px;\r\n          font-size: 12px;\r\n          cursor: pointer;\r\n          opacity: 1;\r\n          color: #409eff;\r\n        }\r\n      }\r\n\r\n      .el-upload-list__item-name {\r\n        color: #606266;\r\n        display: block;\r\n        margin-right: 40px;\r\n        overflow: hidden;\r\n        padding-left: 4px;\r\n        text-overflow: ellipsis;\r\n        transition: color .3s;\r\n        white-space: nowrap;\r\n        [class^=el-icon] {\r\n          height: 100%;\r\n          margin-right: 7px;\r\n          color: #909399;\r\n          line-height: inherit;\r\n        }\r\n      }\r\n\r\n      .el-upload-list__item-status-label {\r\n        display: block;\r\n        position: absolute;\r\n        right: 5px;\r\n        top: 0;\r\n        line-height: inherit;\r\n      }*/\n}\n",""])},OORa:function(e,t,o){var n=o("StbT");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("rjj0")("c2554456",n,!0)},StbT:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.webuploader-container {\n  position: relative;\n}\n.webuploader-element-invisible {\n  position: absolute !important;\n  clip: rect(1px 1px 1px 1px);\n  /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n}\n\n/*.webuploader-pick {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  background: #00b7ee;\n  padding: 10px 15px;\n  color: #fff;\n  text-align: center;\n  border-radius: 3px;\n  overflow: hidden;\n}\n.webuploader-pick-hover {\n  background: #00a2d4;\n}*/\n.webuploader-pick-disable {\n  opacity: 0.6;\n  pointer-events: none;\n}\n",""])},VxsI:function(e,t,o){var n=o("JLFt");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("rjj0")("40d4592a",n,!0)},XxvS:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"/* reset element-ui css */\n",""])}});